var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __read = (this && this.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
var __spread = (this && this.__spread) || function () {
    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
    return ar;
};
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.BaseChart = void 0;
var d3_1 = require("d3");
var moment_1 = __importDefault(require("moment"));
var Ani_1 = require("../ani/Ani");
var CanvasHelper_1 = require("../CanvasHelper");
var Component_1 = require("../component/Component");
var Text_1 = require("../component/Text");
var Constant_1 = require("../Constant");
var Recourse_1 = require("../Recourse");
var lodash_1 = require("lodash");
var BaseChart = /** @class */ (function (_super) {
    __extends(BaseChart, _super);
    function BaseChart(options) {
        var _a, _b;
        var _this = _super.call(this) || this;
        _this.yAxisPadding = 4;
        _this.xAxisPadding = 4;
        _this.tickKeyFrameDuration = 1;
        _this.idField = "id";
        _this.colorField = "id";
        _this.imageField = "id";
        _this.dateField = "date";
        _this.valueField = "value";
        _this.valueKeys = ["value"];
        _this.imageKey = "image";
        _this.position = { x: 0, y: 0 };
        _this.margin = { left: 20, top: 20, right: 20, bottom: 20 };
        _this.freezeTime = [2, 2];
        _this.fadeTime = [0.5, 0];
        _this.dataName = "data";
        _this.metaName = "meta";
        _this.dateFormat = "%Y-%m-%d";
        _this.xTickFormat = d3_1.format(",d");
        _this.yTickFormat = d3_1.format(",d");
        _this.valueFormat = function (cData) {
            return d3_1.format(",.0f")(cData[_this.valueField]);
        };
        _this.labelFormat = function (id, meta, data) {
            if (meta && meta.get(id) && meta.get(id).name) {
                return meta.get(id).name;
            }
            else {
                return id;
            }
        };
        if (!options)
            return _this;
        if (options.fadeTime)
            _this.fadeTime = options.fadeTime;
        if (options.aniTime)
            _this.aniTime = options.aniTime;
        if (options.freezeTime)
            _this.freezeTime = options.freezeTime;
        if (options.idField)
            _this.idField = options.idField;
        if (options.colorField)
            _this.colorField = options.colorField;
        if (options.dateField)
            _this.dateField = options.dateField;
        if (options.valueKeys)
            _this.valueKeys = options.valueKeys;
        if (options.valueField)
            _this.valueField = options.valueField;
        if (options.imageField)
            _this.imageField = options.imageField;
        if (options.margin !== undefined)
            _this.margin = options.margin;
        if (options.shape)
            _this.shape = options.shape;
        if (options.dateFormat)
            _this.dateFormat = options.dateFormat;
        if (options.labelFormat)
            _this.labelFormat = options.labelFormat;
        if (options.valueFormat)
            _this.valueFormat = options.valueFormat;
        if (options.dataName)
            _this.dataName = options.dataName;
        if (options.metaName)
            _this.metaName = options.metaName;
        if (options.visualRange)
            _this.visualRange = options.visualRange;
        if (options.position)
            _this.position = options.position;
        _this.interpolateInitValue = (_a = options.interpolateInitValue) !== null && _a !== void 0 ? _a : NaN;
        _this.maxIntervalMS = (_b = options.maxIntervalMS) !== null && _b !== void 0 ? _b : Number.MAX_VALUE;
        return _this;
    }
    BaseChart.prototype.setup = function (stage) {
        var _this = this;
        _super.prototype.setup.call(this, stage);
        this.setData();
        this.setMeta();
        this.setDefaultAniTime(stage);
        this.setDataScales();
        this.setAlphaScale();
        // 初始化整体最值
        this.totallyMax = d3_1.max(this.data, function (d) { return d[_this.valueField]; });
        this.totallyMin = d3_1.min(this.data, function (d) { return d[_this.valueField]; });
        // 初始化历史最值
        this.historyMax = this.totallyMin;
        this.historyMin = this.totallyMin;
        // 用于计算坐标
        this.currentMax = this.historyMin;
        this.currentMin = this.historyMax;
        if (!this.shape) {
            this.shape = {
                width: stage.canvas.width,
                height: stage.canvas.height,
            };
        }
    };
    BaseChart.prototype.setData = function () {
        var _this = this;
        this.data = lodash_1.cloneDeep(Recourse_1.recourse.data.get(this.dataName));
        this.data.forEach(function (d) {
            Object.keys(d).forEach(function (k) {
                switch (k) {
                    case _this.dateField:
                        // 日期字符串转成日期
                        d[k] = moment_1.default(d[_this.dateField]).toDate();
                        break;
                    case _this.idField:
                        // ID保持不变
                        break;
                    default:
                        // 数值转成数字
                        if (_this.valueKeys.includes(k) || _this.valueField === k) {
                            d[k] = +d[k].replace(/,/g, "");
                        }
                }
            });
        });
        this.dataGroupByID = d3_1.group(this.data, function (d) { return d[_this.idField]; });
        var dataGroupByDate = d3_1.group(this.data, function (d) {
            return d[_this.dateField].getTime();
        });
        var result = new Map();
        dataGroupByDate.forEach(function (v, k) {
            result.set(new Date(k), v);
        });
        this.dataGroupByDate = result;
    };
    BaseChart.prototype.setDataScales = function () {
        var _this = this;
        // 整体日期范围
        var dateExtent = d3_1.extent(this.data, function (d) { return d[_this.dateField]; });
        // 播放进度到日期的映射
        this.secToDate = d3_1.scaleLinear(this.aniTime, dateExtent).clamp(true);
        var g = d3_1.group(this.data, function (d) { return d[_this.idField]; });
        var dataScales = new Map();
        g.forEach(function (dataList, k) {
            // 如果设置了 maxInterval 则需要插入 NaN
            dataList.sort(function (a, b) { return a[_this.dateField].getTime() - b[_this.dateField].getTime(); });
            _this.insertNaN(dataList, dateExtent);
            var dateList = dataList.map(function (d) { return d[_this.dateField]; });
            var secList = dateList.map(function (d) { return _this.secToDate.invert(d); });
            // 线性插值
            var dataScale = d3_1.scaleLinear(secList, dataList).clamp(true);
            dataScales.set(k, dataScale);
        });
        this.dataScales = dataScales;
    };
    BaseChart.prototype.insertNaN = function (dataList, dateExtent) {
        if (this.maxIntervalMS !== Number.MAX_VALUE) {
            // 如果间隔时间大于一定值，则插入一个 NaN
            // 在后面插入NaN
            var last = dataList[dataList.length - 1];
            if (dateExtent[1].getTime() - last[this.dateField].getTime() >=
                this.maxIntervalMS) {
                var obj = Object.assign({}, last);
                obj[this.valueField] = this.interpolateInitValue;
                obj[this.dateField] = new Date(obj[this.dateField].getTime() + 1);
                // console.log(obj);
                dataList.push(obj);
            }
            // 在前面插入NaN
            var first = dataList[0];
            if (first[this.dateField].getTime() - dateExtent[0].getTime() >=
                this.maxIntervalMS) {
                var obj = Object.assign({}, first);
                obj[this.valueField] = this.interpolateInitValue;
                obj[this.dateField] = new Date(obj[this.dateField].getTime() - 1);
                // console.log(obj);
                dataList.unshift(obj);
            }
            for (var i = 0; i < dataList.length - 1; i++) {
                var prev = dataList[i];
                var next = dataList[i + 1];
                if (next[this.dateField] - prev[this.dateField] >= this.maxIntervalMS) {
                    var obj = Object.assign({}, prev);
                    obj[this.valueField] = NaN;
                    obj[this.dateField] = new Date(obj[this.dateField].getTime() + 1);
                    // console.log(obj);
                    dataList.splice(i + 1, 0, obj);
                    i++;
                }
            }
        }
    };
    BaseChart.prototype.getComponent = function (sec) {
        var res = new Component_1.Component({
            position: this.position,
            alpha: this.alphaScale(sec - this.fadeTime[0] - this.freezeTime[0]),
        });
        return res;
    };
    BaseChart.prototype.setMeta = function () {
        var _this = this;
        if (Recourse_1.recourse.data.get(this.metaName)) {
            this.meta = d3_1.rollup(lodash_1.cloneDeep(Recourse_1.recourse.data.get(this.metaName)), function (v) { return v[0]; }, function (d) { return d[_this.idField]; });
        }
    };
    BaseChart.prototype.setAlphaScale = function () {
        this.alphaScale = d3_1.scaleLinear([
            this.aniTime[0] - this.freezeTime[0] - this.fadeTime[0],
            this.aniTime[0] - this.freezeTime[0],
            this.aniTime[1] + this.freezeTime[1],
            this.aniTime[1] + this.freezeTime[1] + this.fadeTime[1],
        ], [this.fadeTime[0] ? 0 : 1, 1, 1, this.fadeTime[1] ? 0 : 1]).clamp(true);
    };
    BaseChart.prototype.setDefaultAniTime = function (stage) {
        if (this.aniTime === undefined) {
            this.aniTime = [
                0 + this.fadeTime[0] + this.freezeTime[0],
                stage.options.sec - this.freezeTime[1] - this.fadeTime[1],
            ];
        }
    };
    BaseChart.prototype.getCurrentData = function (sec, filter) {
        var _this = this;
        if (filter === void 0) { filter = true; }
        var currentData = __spread(this.dataScales.values());
        currentData = currentData.map(function (scale) {
            return scale(sec);
        });
        if (filter) {
            currentData = currentData.filter(function (d) { return d !== undefined; });
        }
        currentData = currentData.sort(function (a, b) {
            if (Number.isNaN(b[_this.valueField])) {
                return -1;
            }
            else if (Number.isNaN(a[_this.valueField])) {
                return 1;
            }
            else {
                return b[_this.valueField] - a[_this.valueField];
            }
        });
        return currentData;
    };
    BaseChart.prototype.getScalesBySec = function (sec) {
        var _this = this;
        var currentData = this.getCurrentData(sec);
        var _a = __read(d3_1.extent(currentData, function (d) { return d[_this.valueField]; }), 2), minValue = _a[0], maxValue = _a[1];
        if (this.historyMax > maxValue) {
            maxValue = this.historyMax;
        }
        if (this.historyMin < minValue) {
            minValue = this.historyMin;
        }
        var trueSec = sec < this.aniTime[0]
            ? this.aniTime[0]
            : sec > this.aniTime[1]
                ? this.aniTime[1]
                : sec;
        var scales = {
            x: d3_1.scaleLinear([this.aniTime[0], trueSec], [0, this.shape.width - this.margin.left - this.margin.right]),
            y: d3_1.scaleLinear([minValue, maxValue], [this.shape.height - this.margin.top - this.margin.bottom, 0]),
        };
        return scales;
    };
    BaseChart.prototype.getAxis = function (sec, scales) {
        var _this = this;
        var _a, _b;
        var size = 30;
        var tickComp = {
            text: "" + this.yTickFormat(this.currentMax),
            font: Constant_1.font,
            fillStyle: "#777",
            fontSize: size,
        };
        var tickKeySec = this.tickKeySecRange(sec);
        var tickScales = tickKeySec.map(function (s) {
            return _this.getScalesBySec(s);
        });
        this.yAxisWidth = (_b = (_a = CanvasHelper_1.canvasHelper.measure(new Text_1.Text(tickComp))) === null || _a === void 0 ? void 0 : _a.width) !== null && _b !== void 0 ? _b : 0;
        this.xAxisHeight = size;
        var yAxis = this.getAxisComponent(this.yTickFormat, tickScales[0].y, tickScales[1].y, this.margin.left + this.yAxisWidth, 5, tickComp, "y", sec, tickKeySec, scales.y);
        var xAxis = this.getAxisComponent(this.xTickFormat, tickScales[0].x, tickScales[1].x, this.margin.top + this.xAxisHeight, 5, tickComp, "x", sec, tickKeySec, scales.x);
        return { yAxis: yAxis, xAxis: xAxis };
    };
    BaseChart.prototype.getAxisComponent = function (format, scale0, scale1, pos, count, text, type, sec, secRange, scale) {
        var _this = this;
        var alpha = (sec - secRange[0]) / (secRange[1] - secRange[0]);
        var ticks0 = scale0.ticks(count);
        var ticks1 = scale1.ticks(count);
        var ticks = __spread(ticks0.map(function (t) {
            if (ticks1.find(function (d) { return d === t; })) {
                return { v: t, a: 1, init: 0 };
            }
            else {
                return { v: t, a: 1 - alpha, init: 0 };
            }
        }));
        ticks1.forEach(function (tickVal) {
            var tick = ticks.find(function (d) { return d.v === tickVal; });
            if (tick) {
                tick.a = 1;
            }
            else {
                ticks.push({ v: tickVal, a: alpha, init: 1 });
            }
        });
        var res = new Component_1.Component({
            position: {
                x: this.margin.left + this.yAxisWidth + this.yAxisPadding,
                y: this.margin.top + this.xAxisHeight + this.xAxisPadding,
            },
        });
        res.children = ticks.map(function (tick) {
            var t = new Text_1.Text(text);
            if (type === "y") {
                t.position = { y: scale(tick.v), x: -_this.yAxisPadding };
                t.textAlign = "right";
                t.textBaseline = "middle";
            }
            else {
                t.position = { x: scale(tick.v), y: -_this.xAxisPadding };
                t.textBaseline = "bottom";
                t.textAlign = "center";
            }
            // t.children.push(
            //   new Rect({
            //     shape: { width: 10, height: 1 },
            //     fillStyle: "#Fff",
            //   })
            // );
            t.text = format(tick.v);
            t.alpha = tick.a;
            return t;
        });
        return res;
    };
    BaseChart.prototype.tickKeySecRange = function (sec) {
        var remained = sec % this.tickKeyFrameDuration;
        var start = sec - remained;
        var end = start + this.tickKeyFrameDuration;
        return [start, end];
    };
    return BaseChart;
}(Ani_1.Ani));
exports.BaseChart = BaseChart;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQmFzZUNoYXJ0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2NvcmUvY2hhcnQvQmFzZUNoYXJ0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEseUJBU1k7QUFDWixrREFBNEI7QUFDNUIsa0NBQWlDO0FBQ2pDLGdEQUErQztBQUMvQyxvREFBbUQ7QUFDbkQsMENBQXNEO0FBQ3RELHdDQUFtQztBQUNuQyx3Q0FBdUM7QUFFdkMsaUNBQW1DO0FBd0NuQztJQUF3Qyw2QkFBRztJQVN6QyxtQkFBWSxPQUEwQjs7UUFBdEMsWUFDRSxpQkFBTyxTQXNCUjtRQTdCRCxrQkFBWSxHQUFXLENBQUMsQ0FBQztRQUN6QixrQkFBWSxHQUFXLENBQUMsQ0FBQztRQTZCekIsMEJBQW9CLEdBQVcsQ0FBQyxDQUFDO1FBRWpDLGFBQU8sR0FBRyxJQUFJLENBQUM7UUFDZixnQkFBVSxHQUF5QixJQUFJLENBQUM7UUFDeEMsZ0JBQVUsR0FBeUIsSUFBSSxDQUFDO1FBQ3hDLGVBQVMsR0FBRyxNQUFNLENBQUM7UUFDbkIsZ0JBQVUsR0FBRyxPQUFPLENBQUM7UUFDckIsZUFBUyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDdEIsY0FBUSxHQUFHLE9BQU8sQ0FBQztRQUVuQixjQUFRLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQztRQUMxQixZQUFNLEdBQUcsRUFBRSxJQUFJLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxNQUFNLEVBQUUsRUFBRSxFQUFFLENBQUM7UUFFdEQsZ0JBQVUsR0FBcUIsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDdEMsY0FBUSxHQUFxQixDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUt0QyxjQUFRLEdBQUcs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