var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
exports.Series = exports.Scene = void 0;
var d3_1 = require("d3");
var Component_1 = require("../component/Component");
var Ani_1 = require("./Ani");
var Scene = /** @class */ (function (_super) {
    __extends(Scene, _super);
    function Scene(child, durationSec) {
        var _this = _super.call(this) || this;
        _this.child = child;
        _this.durationSec = durationSec;
        return _this;
    }
    Scene.prototype.setup = function (stage) {
        _super.prototype.setup.call(this, stage);
        this.child.setup(stage);
    };
    Scene.prototype.getComponent = function (sec) {
        return this.child instanceof Ani_1.Ani
            ? this.child.getComponent(sec)
            : this.child;
    };
    return Scene;
}(Ani_1.Ani));
exports.Scene = Scene;
var Series = /** @class */ (function (_super) {
    __extends(Series, _super);
    function Series() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.children = [];
        return _this;
    }
    Series.prototype.addScene = function (scene) {
        scene.offsetSec += d3_1.sum(this.children, function (d) { return d.durationSec; });
        scene.parent = this;
        this.children.push(scene);
    };
    Series.prototype.setup = function (stage) {
        _super.prototype.setup.call(this, stage);
        this.children.forEach(function (child) {
            child.setup(stage);
        });
    };
    return Series;
}(Component_1.Component));
exports.Series = Series;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU2VyaWVzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2NvcmUvYW5pL1Nlcmllcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQSx5QkFBd0Q7QUFDeEQsb0RBQW1EO0FBRW5ELDZCQUE0QjtBQUU1QjtJQUEyQix5QkFBRztJQU81QixlQUFZLEtBQXNCLEVBQUUsV0FBbUI7UUFBdkQsWUFDRSxpQkFBTyxTQUdSO1FBRkMsS0FBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFDbkIsS0FBSSxDQUFDLFdBQVcsR0FBRyxXQUFXLENBQUM7O0lBQ2pDLENBQUM7SUFSRCxxQkFBSyxHQUFMLFVBQU0sS0FBWTtRQUNoQixpQkFBTSxLQUFLLFlBQUMsS0FBSyxDQUFDLENBQUM7UUFDbkIsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDMUIsQ0FBQztJQU1ELDRCQUFZLEdBQVosVUFBYSxHQUFXO1FBQ3RCLE9BQU8sSUFBSSxDQUFDLEtBQUssWUFBWSxTQUFHO1lBQzlCLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUM7WUFDOUIsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7SUFDakIsQ0FBQztJQUNILFlBQUM7QUFBRCxDQUFDLEFBakJELENBQTJCLFNBQUcsR0FpQjdCO0FBakJZLHNCQUFLO0FBa0JsQjtJQUE0QiwwQkFBUztJQUFyQztRQUFBLHFFQWNDO1FBYkMsY0FBUSxHQUFZLEVBQUUsQ0FBQzs7SUFhekIsQ0FBQztJQVhDLHlCQUFRLEdBQVIsVUFBUyxLQUFZO1FBQ25CLEtBQUssQ0FBQyxTQUFTLElBQUksUUFBRyxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsVUFBQyxDQUFDLElBQUssT0FBQSxDQUFDLENBQUMsV0FBVyxFQUFiLENBQWEsQ0FBQyxDQUFDO1FBQzVELEtBQUssQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1FBQ3BCLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQzVCLENBQUM7SUFDRCxzQkFBSyxHQUFMLFVBQU0sS0FBWTtRQUNoQixpQkFBTSxLQUFLLFlBQUMsS0FBSyxDQUFDLENBQUM7UUFDbkIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsVUFBQyxLQUFLO1lBQzFCLEtBQUssQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDckIsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDO0lBQ0gsYUFBQztBQUFELENBQUMsQUFkRCxDQUE0QixxQkFBUyxHQWNwQztBQWRZLHdCQUFNIn0=